<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="logic.css" />
    <link rel="stylesheet" href="binary-converter.css" />
    <title>CSS Logic Gates</title>
  </head>
  <body>
    <h1>CSS Logic Gates with if() Function</h1>
    <p>
      Pure CSS logic gates implementation using the experimental CSS if() function (Chrome 137+)
    </p>
    <main>
      <div class="gate">
        <b>AND</b>
        <pre>
.and .out {
  --value: if(style(--a: 0): 0; style(--b: 0): 0; else: 1);
}</pre
        >
        <!-- symbol 버전 -->
        <div class="and symbol" style="--a: 1; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>

        <!-- 기본 버전 -->
        <div class="and" style="--a: 0; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="and" style="--a: 0; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="and" style="--a: 1; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="and" style="--a: 1; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
      </div>

      <div class="gate">
        <b>OR</b>
        <pre>
.or .out {
  --value: if(style(--a: 1): 1; style(--b: 1): 1; else: 0);
}</pre
        >
        <!-- symbol 버전 -->
        <div class="or symbol" style="--a: 1; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          <div class="bit out"></div>
        </div>

        <!-- 기본 버전 -->
        <div class="or" style="--a: 0; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="or" style="--a: 0; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="or" style="--a: 1; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="or" style="--a: 1; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
      </div>

      <div class="gate">
        <b>NOT</b>
        <pre>
.not .out {
  --value: if(style(--a: 1): 0; else: 1);
}</pre
        >
        <!-- symbol 버전 -->
        <div class="not symbol unary" style="--a: 1">
          <div class="bit a"></div>
          <div class="bit out"></div>
        </div>

        <!-- 기본 버전 -->
        <div class="not" style="--a: 0">
          <div class="bit a"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="not" style="--a: 1">
          <div class="bit a"></div>
          →
          <div class="bit out"></div>
        </div>
      </div>

      <div class="gate">
        <b>XOR</b>
        <pre>
.xor .out {
  --value: if(
    style(--a: 0): if(style(--b: 1): 1; else: 0);
    style(--a: 1): if(style(--b: 0): 1; else: 0);
    else: 0
  );
}</pre
        >
        <!-- symbol 버전 -->
        <div class="xor symbol" style="--a: 1; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          <div class="bit out"></div>
        </div>

        <!-- 기본 버전 -->
        <div class="xor" style="--a: 0; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="xor" style="--a: 0; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="xor" style="--a: 1; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
        <div class="xor" style="--a: 1; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out"></div>
        </div>
      </div>

      <div class="gate">
        <b>(a AND b) OR c</b>
        <div class="and" style="--a: 0; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="or" style="--b: 1">
              <div class="bit a"></div>
              <div class="bit b"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
        <div class="and" style="--a: 1; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="or" style="--b: 0">
              <div class="bit a"></div>
              <div class="bit b"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
        <div class="and" style="--a: 0; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="or" style="--b: 0">
              <div class="bit a"></div>
              <div class="bit b"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
        <div class="and" style="--a: 1; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="or" style="--b: 0">
              <div class="bit a"></div>
              <div class="bit b"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="gate">
        <b>NAND (NOT AND)</b>
        <!-- NAND = NOT(AND) -->
        <div class="and" style="--a: 0; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="not">
              <div class="bit a"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
        <div class="and" style="--a: 0; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="not">
              <div class="bit a"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
        <div class="and" style="--a: 1; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="not">
              <div class="bit a"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
        <div class="and" style="--a: 1; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="not">
              <div class="bit a"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="gate">
        <b>NOR (NOT OR)</b>
        <!-- NOR = NOT(OR) -->
        <div class="or" style="--a: 0; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="not">
              <div class="bit a"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
        <div class="or" style="--a: 0; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="not">
              <div class="bit a"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
        <div class="or" style="--a: 1; --b: 0">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="not">
              <div class="bit a"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
        <div class="or" style="--a: 1; --b: 1">
          <div class="bit a"></div>
          <div class="bit b"></div>
          →
          <div class="bit out">
            <div class="not">
              <div class="bit a"></div>
              →
              <div class="bit out"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="gate">
        <h3>Binary Converter</h3>
        <pre>
.binary > .out {
  /* Calculate the current bit value */
  --value: calc(mod(var(--dec, 0), 2));
  
  /* Value to pass to the next digit */
  --next-dec: calc(round(down, var(--dec, 0) / 2, 1));
  &::before {

  background: rgb(
    calc((1 - var(--value)) * 255),
    calc((1 - var(--value)) * 255),
    calc((1 - var(--value)) * 255)
  );
}</pre
        >

        <div class="slider-container">
          <label for="dec-slider">Decimal Value: <span id="dec-display">0</span></label>
          <input type="range" id="dec-slider" min="0" max="1023" value="0" />
        </div>

        <div class="binary-output">
          <div class="binary sync-decimal" style="--dec: 0">
            <div class="out">
              <div class="binary">
                <div class="out">
                  <div class="binary">
                    <div class="out">
                      <div class="binary">
                        <div class="out">
                          <div class="binary">
                            <div class="out">
                              <div class="binary">
                                <div class="out">
                                  <div class="binary">
                                    <div class="out">
                                      <div class="binary">
                                        <div class="out">
                                          <div class="binary">
                                            <div class="out">
                                              <div class="binary">
                                                <div class="out"></div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="gate">
        <h3>7-Segment Display</h3>
        <pre>
Dirac delta function using CSS math controls each segment: 
</pre
        >
        <div class="four-digit-display sync-decimal">
          <div class="digit">
            <div class="segment a"></div>
            <div class="segment b"></div>
            <div class="segment c"></div>
            <div class="segment d"></div>
            <div class="segment e"></div>
            <div class="segment f"></div>
            <div class="segment g"></div>
          </div>
          <div class="digit">
            <div class="segment a"></div>
            <div class="segment b"></div>
            <div class="segment c"></div>
            <div class="segment d"></div>
            <div class="segment e"></div>
            <div class="segment f"></div>
            <div class="segment g"></div>
          </div>
          <div class="digit">
            <div class="segment a"></div>
            <div class="segment b"></div>
            <div class="segment c"></div>
            <div class="segment d"></div>
            <div class="segment e"></div>
            <div class="segment f"></div>
            <div class="segment g"></div>
          </div>
          <div class="digit">
            <div class="segment a"></div>
            <div class="segment b"></div>
            <div class="segment c"></div>
            <div class="segment d"></div>
            <div class="segment e"></div>
            <div class="segment f"></div>
            <div class="segment g"></div>
          </div>
        </div>
      </div>

      <div class="gate">
        <b>Half Adder</b>
        <pre>
/* Half Adder: adds two bits */
.half-adder .sum {
  --value: if(
    style(--a: 0): if(style(--b: 1): 1; else: 0);
    style(--a: 1): if(style(--b: 0): 1; else: 0);
    else: 0
  );
}

.half-adder .carry {
  --value: if(style(--a: 0): 0; style(--b: 0): 0; else: 1);
}</pre>
        
        <div class="half-adder" style="--a: 0; --b: 0">
          <div class="bit a"></div>
          +
          <div class="bit b"></div>
          =
          <div class="bit sum"></div>
          <div class="bit carry"></div>
          <small>(sum, carry)</small>
        </div>
        
        <div class="half-adder" style="--a: 0; --b: 1">
          <div class="bit a"></div>
          +
          <div class="bit b"></div>
          =
          <div class="bit sum"></div>
          <div class="bit carry"></div>
        </div>
        
        <div class="half-adder" style="--a: 1; --b: 0">
          <div class="bit a"></div>
          +
          <div class="bit b"></div>
          =
          <div class="bit sum"></div>
          <div class="bit carry"></div>
        </div>
        
        <div class="half-adder" style="--a: 1; --b: 1">
          <div class="bit a"></div>
          +
          <div class="bit b"></div>
          =
          <div class="bit sum"></div>
          <div class="bit carry"></div>
        </div>
      </div>

      <div class="gate">
        <b>Full Adder</b>
        <pre>
/* Full Adder: adds two bits + carry in */
.full-adder .sum {
  /* Sum = (A XOR B) XOR Cin */
  --half-sum: if(
    style(--a: 0): if(style(--b: 1): 1; else: 0);
    style(--a: 1): if(style(--b: 0): 1; else: 0);
    else: 0
  );
  
  --value: if(
    style(--half-sum: 0): if(style(--cin: 1): 1; else: 0);
    style(--half-sum: 1): if(style(--cin: 0): 1; else: 0);
    else: 0
  );
}

.full-adder .carry {
  /* Carry = (A AND B) OR (Cin AND (A XOR B)) */
  --carry1: if(style(--a: 0): 0; style(--b: 0): 0; else: 1);
  --xor-ab: if(
    style(--a: 0): if(style(--b: 1): 1; else: 0);
    style(--a: 1): if(style(--b: 0): 1; else: 0);
    else: 0
  );
  --carry2: if(style(--cin: 0): 0; style(--xor-ab: 0): 0; else: 1);
  --value: if(style(--carry1: 1): 1; style(--carry2: 1): 1; else: 0);
}</pre>
        
        <div class="full-adder" style="--a: 0; --b: 0; --cin: 0">
          <div class="bit a"></div>
          +
          <div class="bit b"></div>
          +
          <div class="bit cin"></div>
          =
          <div class="bit sum"></div>
          <div class="bit carry"></div>
          <small>(A + B + Cin = sum, carry)</small>
        </div>
        
        <div class="full-adder" style="--a: 1; --b: 1; --cin: 0">
          <div class="bit a"></div>
          +
          <div class="bit b"></div>
          +
          <div class="bit cin"></div>
          =
          <div class="bit sum"></div>
          <div class="bit carry"></div>
        </div>
        
        <div class="full-adder" style="--a: 1; --b: 1; --cin: 1">
          <div class="bit a"></div>
          +
          <div class="bit b"></div>
          +
          <div class="bit cin"></div>
          =
          <div class="bit sum"></div>
          <div class="bit carry"></div>
        </div>
        
        <div class="full-adder" style="--a: 0; --b: 1; --cin: 1">
          <div class="bit a"></div>
          +
          <div class="bit b"></div>
          +
          <div class="bit cin"></div>
          =
          <div class="bit sum"></div>
          <div class="bit carry"></div>
        </div>
      </div>

      <div class="gate">
        <b>2:1 Multiplexer (MUX)</b>
        <pre>
/* Select one of two inputs based on select line */
.mux-2to1 .out {
  --value: if(
    style(--s: 0): var(--i0, 0);  /* S=0: select I0 */
    else: var(--i1, 0)            /* S=1: select I1 */
  );
}</pre>

        <!-- S=0: select I0 -->
        <div class="mux-labels">
          <small>I0</small>
          <small>I1</small>
          <small>S</small>
          <small></small>
          <small>Out</small>
        </div>
        <div class="mux-2to1" style="--s: 0; --i0: 0; --i1: 1">
          <div class="bit input i0"></div>
          <div class="bit input i1"></div>
          <div class="bit select"></div>
          →
          <div class="bit out"></div>
          <small>I0=0, I1=1, S=0 → Out=0</small>
        </div>

        <!-- S=1: select I1 -->
        <div class="mux-2to1" style="--s: 1; --i0: 0; --i1: 1">
          <div class="bit input i0"></div>
          <div class="bit input i1"></div>
          <div class="bit select"></div>
          →
          <div class="bit out"></div>
          <small>I0=0, I1=1, S=1 → Out=1</small>
        </div>
      </div>

      <div class="gate">
        <b>4:1 Multiplexer</b>
        <pre>
/* 4:1 MUX implemented with basic logic gates */
/* Out = (I0·!S1·!S0) + (I1·!S1·S0) + (I2·S1·!S0) + (I3·S1·S0) */

.mux-4to1 .out {
  /* Step 1: NOT gates for select lines */
  --not-s1: if(style(--s1: 1): 0; else: 1);
  --not-s0: if(style(--s0: 1): 0; else: 1);
  
  /* Step 2: AND gates for selection conditions */
  --term0: if(style(--i0: 0): 0; style(--not-s1: 0): 0; style(--not-s0: 0): 0; else: 1);
  --term1: if(style(--i1: 0): 0; style(--not-s1: 0): 0; style(--s0: 0): 0; else: 1);
  --term2: if(style(--i2: 0): 0; style(--s1: 0): 0; style(--not-s0: 0): 0; else: 1);
  --term3: if(style(--i3: 0): 0; style(--s1: 0): 0; style(--s0: 0): 0; else: 1);
  
  /* Step 3: OR all terms together */
  --value: if(
    style(--term0: 1): 1;
    style(--term1: 1): 1;
    style(--term2: 1): 1;
    style(--term3: 1): 1;
    else: 0
  );
}</pre>

        <!-- S1S0=00: select I0 -->
        <div class="mux-labels">
          <small>I0</small>
          <small>I1</small>
          <small>I2</small>
          <small>I3</small>
          <small>S1</small>
          <small>S0</small>
          <small></small>
          <small>Out</small>
        </div>
        <div class="mux-4to1" style="--s1: 0; --s0: 0; --i0: 1; --i1: 0; --i2: 0; --i3: 0">
          <div class="bit input i0"></div>
          <div class="bit input i1"></div>
          <div class="bit input i2"></div>
          <div class="bit input i3"></div>
          <div class="bit select s1"></div>
          <div class="bit select s0"></div>
          →
          <div class="bit out"></div>
          <small>S1S0=00 → I0</small>
        </div>

        <!-- S1S0=01: select I1 -->
        <div class="mux-4to1" style="--s1: 0; --s0: 1; --i0: 0; --i1: 1; --i2: 0; --i3: 0">
          <div class="bit input i0"></div>
          <div class="bit input i1"></div>
          <div class="bit input i2"></div>
          <div class="bit input i3"></div>
          <div class="bit select s1"></div>
          <div class="bit select s0"></div>
          →
          <div class="bit out"></div>
          <small>S1S0=01 → I1</small>
        </div>

        <!-- S1S0=10: select I2 -->
        <div class="mux-4to1" style="--s1: 1; --s0: 0; --i0: 0; --i1: 0; --i2: 1; --i3: 0">
          <div class="bit input i0"></div>
          <div class="bit input i1"></div>
          <div class="bit input i2"></div>
          <div class="bit input i3"></div>
          <div class="bit select s1"></div>
          <div class="bit select s0"></div>
          →
          <div class="bit out"></div>
          <small>S1S0=10 → I2</small>
        </div>

        <!-- S1S0=11: select I3 -->
        <div class="mux-4to1" style="--s1: 1; --s0: 1; --i0: 0; --i1: 0; --i2: 0; --i3: 1">
          <div class="bit input i0"></div>
          <div class="bit input i1"></div>
          <div class="bit input i2"></div>
          <div class="bit input i3"></div>
          <div class="bit select s1"></div>
          <div class="bit select s0"></div>
          →
          <div class="bit out"></div>
          <small>S1S0=11 → I3</small>
        </div>
      </div>
    </main>

    <script>
      const slider = document.getElementById('dec-slider');
      const display = document.getElementById('dec-display');
      const syncTargets = document.querySelectorAll('.sync-decimal');

      slider.addEventListener('input', (e) => {
        const value = e.target.value;
        display.textContent = value;
        syncTargets.forEach(target => {
          target.style.setProperty('--dec', value);
        });
      });
    </script>
  </body>
</html>
